<!DOCTYPE html>
<html>
    
    <head>
        <meta charset="utf-8">
        <title>&gt;XRocket - Analysis Report@09:45:30 09/18</title>
        <link rel="stylesheet"
        type="text/css" href="/assets/styles/reset.css">
        <link rel="stylesheet" type="text/css" href="/assets/styles/report.css">
        <style type="text/css">
</style>
    </head>
    
    <body>
        <header>
             <h1>XRocket - Analysis Report</h1>

            <div class="built">built@09:45:30 09/18</div>
        </header>
        <div class="body">
            <div id="overlay" onclick="off('dialog')"></div>
            <div id="dialog">
                <fieldset class="tag-detail">
                    <legend class="name">Tag Detail</legend>
                    <div class="content">
                        <ol class="values"></ol>
                    </div>
                </fieldset>
            </div>
            <div class="row">
                <div class="col">
                    <fieldset class="tags-top-ten">
                        <legend>CSS Tags: TOP 10</legend>
                        <div class="content">
                            <ol class="rank"></ol>
                            <div class="chart" style="height:100%;min-height: 260px;"></div>
                        </div>
                    </fieldset>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <fieldset class="tags-groupby-layout">
                        <legend>Layout Group</legend>
                        <div class="content">
                            <ol class="rank"></ol>
                        </div>
                    </fieldset>
                </div>
                <div class="col">
                    <fieldset class="tags-groupby-size">
                        <legend>Size Group</legend>
                        <div class="content">
                            <ol class="rank"></ol>
                        </div>
                    </fieldset>
                </div>
                <div class="col">
                    <fieldset class="tags-groupby-animation">
                        <legend>Animation Group</legend>
                        <div class="content">
                            <ol class="rank"></ol>
                        </div>
                    </fieldset>
                </div>
                <div class="col">
                    <fieldset class="tags-groupby-position">
                        <legend>Position Group</legend>
                        <div class="content">
                            <ol class="rank"></ol>
                        </div>
                    </fieldset>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <fieldset class="col tags-all">
                        <legend>CSS Tags: ALL</legend>
                        <div class="content">
                            <ol class="rank"></ol>
                        </div>
                    </fieldset>
                </div>
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/echarts@5.2.0/dist/echarts.min.js"></script>
        <script type="text/javascript" src="/assets/js/common.js"></script>
        <script type="text/javascript" data-type="report">
 var reportData = [["display",{"values":{"flex":99,"none":13,"block":1,"inline-block":9,"inline-flex":1},"total":123}],["color",{"values":{"white":27,"#F1F1F1":9,"#222":1,"#000":1,"#FFF":8,"#939393":8,"inherit":8,"#e6e6e6":8,"black":18,"#555":8,"#666":5,"#737373":2,"red":7,"#8c8c8c":1,"#5c5c5c":1,"#F0F0F0":1},"total":113}],["width",{"values":{"100%":40,"px":49,"70%":3,"95%":1,"auto":1,"50%":5,"38%":1,"60%":1,"17%":1,"25%":1,"33.333%":1},"total":104}],["align-items",{"values":{"stretch":2,"center":69,"flex-start":12},"total":83}],["font-size",{"values":{".rem":3,"px":71},"total":74}],["font-weight",{"values":{"200":3,"300":7,"bold":56,"normal":2},"total":68}],["padding",{"values":{"0":3," px":20,"px":17,"6px 0":1,"px px":16,"24px 0":4,"em em em em":1,"20px 0":1,"px  px":1,"75px 0 42px 0":1},"total":65}],["justify-content",{"values":{"space-between":51,"center":6,"flex-start":1},"total":58}],["background",{"values":{"black":4,"white":12,"#efefef":1,"#FFF":4,"url(/assets/images/down-arrow.svg) no-repeat scroll right center transparent":1,"#FAFAFA":8,"#000":17,"#222":1},"total":48}],["height",{"values":{"px":35,"100%":6,"initial":1,"auto":1},"total":43}],["position",{"values":{"relative":11,"absolute":14,"fixed":18},"total":43}],["margin-bottom",{"values":{"0":1,"px":37},"total":38}],["margin-top",{"values":{"0":2,"px":35},"total":37}],["flex",{"values":{"1":29,"2":1,"0 0 100%":2,"0 0 auto":1,"0 0 30%":1},"total":34}],["margin-left",{"values":{"0":1,"px":25,"-px":7},"total":33}],["top",{"values":{"0":11,"50%":3,"px":16},"total":30}],["gap",{"values":{"px":30},"total":30}],["cursor",{"values":{"default":1,"pointer":27},"total":28}],["text-align",{"values":{"center":23,"right":2,"left":3},"total":28}],["z-index",{"values":{"1":5,"2":3,"99":8,"100":9},"total":25}],["opacity",{"values":{"0":11,"1":2,"0.4":8,"0.1":2,"0.5":2},"total":25}],["border",{"values":{"0":1,"1px solid gray":1,"1px solid #e8e8e8":1,"1px solid #D9D9D9":1,"1px solid #d9d9d9":3,"1px solid black":1,"1px dashed #A0A0A0":1,"1px solid #eee":5,"1px solid #e6e6e6":6,"1px solid #DDD":1},"total":21}],["right",{"values":{"0":11,"px":9},"total":20}],["transition",{"values":{"color 0.45s cubic-bezier(0.785, 0.135, 0.15, 0.86), border 0.45s cubic-bezier(0.785, 0.135, 0.15, 0.86)":2,"transform 0.45s cubic-bezier(0.785, 0.135, 0.15, 0.86)":1,"all 1s":4,"all 0.5s":7,"all 2s":2,"opacity 0.3s ease-in-out":1},"total":17}],["line-height",{"values":{"2":6,".rem":1,"px":2,"1.8":1,"1.4":6},"total":16}],["pointer-events",{"values":{"none":8,"auto":8},"total":16}],["left",{"values":{"0":13,"50%":1},"total":14}],["text-decoration",{"values":{"none":11,"underline":3},"total":14}],["border-bottom",{"values":{"1px solid #e9e9e9":1,"1px solid #e7e7e7":11,"1px solid #E8E8E8":1},"total":13}],["margin",{"values":{"0":1,"px px px px":1,"50px auto 0":1," px px px":1,"0 auto":5,"50px 0":2,"35px 0":1,"50px 0 30px 0":1},"total":13}],["flex-direction",{"values":{"column":13},"total":13}],["margin-right",{"values":{"px":13},"total":13}],["font-style",{"values":{"italic":11,"normal":1},"total":12}],["border-radius",{"values":{"0":1,"px":11},"total":12}],["overflow",{"values":{"auto":2,"hidden":10},"total":12}],["bottom",{"values":{"0":10,"px":1},"total":11}],["padding-left",{"values":{"px":11},"total":11}],["outline",{"values":{"none":10},"total":10}],["text-transform",{"values":{"uppercase":10},"total":10}],["border-top",{"values":{"1px solid #e7e7e7":2,"1px solid #e6e6e6":2,"1px solid #d9d9d9":6},"total":10}],["padding-top",{"values":{"px":8,"em":1},"total":9}],["transform",{"values":{"translate3d(-50%, -50%, 0)":1,"scale(0, 1)":1,"scale(1.2)":2,"scale(1)":2,"translateY(-50%)":2},"total":8}],["border-width",{"values":{"0":8},"total":8}],["min-height",{"values":{"vh":4,"px":2},"total":6}],["background-color",{"values":{"rgba(0, 0, 0, 0.7)":1,"transparent":1,"#000":1,"#E0E0E0":1},"total":4}],["font-family",{"values":{"'Comfortaa'":3,"\"Comfortaa\", \"PingFang SC\", \"Microsoft YaHei\", \"Helvetica\", \"Arial\", Heiti SC, sans-serif":1},"total":4}],["object-fit",{"values":{"cover":4},"total":4}],["white-space",{"values":{"nowrap":4},"total":4}],["padding-bottom",{"values":{"px":3},"total":3}],["letter-spacing",{"values":{"px":3},"total":3}],["flex-wrap",{"values":{"wrap":3},"total":3}],["max-width",{"values":{"px":2},"total":2}],["box-shadow",{"values":{"0 0 30px gray":1},"total":1}],["column-count",{"values":{"4":1},"total":1}],["font-display",{"values":{"swap":1},"total":1}],["src",{"values":{"url(https":1},"total":1}],["box-sizing",{"values":{"border-box":1},"total":1}],["list-style-type",{"values":{"none":1},"total":1}],["appearance",{"values":{"none":1},"total":1}],["background-size",{"values":{"px px":1},"total":1}],["content",{"values":{"''":1},"total":1}],["transform-origin",{"values":{"right center":1},"total":1}],["min-width",{"values":{"px":1},"total":1}],["border-left",{"values":{"1px solid #e0e0e0":1},"total":1}],["vertical-align",{"values":{"middle":1},"total":1}]];
</script>
        <script type="text/javascript">
            function on(dialogId) {
                  $id("overlay").style.display = "block";
                  $id(dialogId).style.display = "block";
              }
            
              function off(dialogId) {
                  $id("overlay").style.display = "none";
                  $id(dialogId).style.display = "none";
              }
            
              function initTags(reportData) {
                const features = {
                  layout: ['justify-content', 'display','flex', 'gap', 'flex-direction', 'flex-wrap', 'gap', 'box-sizing'],
                  size: ['width', 'height','line-height', 'min-width', 'max-width', 'min-height', 'max-height', 
                  'margin', 'margin-left', 'margin-right', 'margin-top', 'margin-bottom',
                  'padding', 'padding-left', 'padding-right', 'padding-top', 'padding-bottom'
                  ],
                  position: ['position', 'top', 'left', 'right', 'bottom'],
                  colorBackground: ['color', 'background', 'background-color'],
                  animation: ['transform', 'transition', 'transform-origin']
                }
                const tags = {
                  layout: [],
                  size: [],
                  topTen: [],
                  all: []
                } 
            
                reportData.forEach((it, idx) => {
                  const tagName = it[0];
                  if (tags.topTen.length < 10) tags.topTen.push(it);
            
                  // 分组 tag
                  for (var group in features){
                    if (group === 'topTen' || (group === 'all')) continue;
                    if (features[group].indexOf(tagName) > -1) {
                      tags[group] = tags[group] || [];
                      tags[group].push(it)
                    }
                  }
                  tags.all.push(it);
                })
                return tags;
              }
            
              function genTopTenChart(topTenTags) {
                const chartDom = $('.tags-top-ten .content .chart');
                const myChart = echarts.init(chartDom);
                const options = {
                  color: ['#2f4554'],
                  xAxis: {
                    type: 'category',
                    axisLabel: {  
                       interval:0,  
                       rotate:40  
                    }  
                  },
                  yAxis: {
                    type: 'value'
                  },
                  series: [{
                      data: [],
                      type: 'bar',
                      label: {
                        show: true,
                        position: 'top',
                      },
                      showBackground: true,
                      backgroundStyle: {
                          color: 'rgba(180, 180, 180, 0.2)'
                      }
                  }]
                }
                options.xAxis.data = topTenTags.map(tag => tag[0])
                options.series[0].data = topTenTags.map(tag => tag[1].total);
            
                myChart.setOption(options);        
              }
            
              function genTags(tags) {
                function genHtmlForTags(tagList) {
                  const genHtmlForTag = (tagName, tagInfo) => {
                    return `<li class="tag-line" data-tag="${tagName}">
                      <div data-tag="${tagName}">${tagName}</div
                      <div data-tag="${tagName}">${tagInfo.total}</div
                      </li>`;
                  }
                  return tagList.map((it, idx) => genHtmlForTag(it[0], it[1]));
                }
            
                $('.tags-top-ten .content .rank').innerHTML = genHtmlForTags(tags.topTen).join('');
                $('.tags-all .content .rank').innerHTML = genHtmlForTags(tags.all).join('');
                $('.tags-groupby-layout .content .rank').innerHTML = genHtmlForTags(tags['layout']).join('');  
                $('.tags-groupby-size .content .rank').innerHTML = genHtmlForTags(tags['size']).join('');  
                $('.tags-groupby-animation .content .rank').innerHTML = genHtmlForTags(tags['animation']).join('');  
                $('.tags-groupby-position .content .rank').innerHTML = genHtmlForTags(tags['position']).join('');  
              }
            
              function initEventListeners(tags) {
                $('.body').addEventListener('click', (e) => {
                  const  ele = e.target;
                  if (!ele.dataset.tag) return;
            
                  const [tagInfo] =  tags.all.filter(it => it[0] === ele.dataset.tag);
                 
                  const values = Object.entries(tagInfo[1].values);
                  values.sort((curr, next)=> {
                    if (curr[1] > next[1]) {
                        return -1;
                    } else if(curr[1] < next[1]){
                        return 1;
                    } else {
                        return 0;
                    }
                  });
                  values.unshift(['VALUE', 'TIMES'])
            
                  const tagInfoHtml = values.map((it, key) => {
                    return `<li data-tag-for="${ele.dataset.tag}" class="${key === 0? 'li-header':''}">
                      <div>${it[0]}</div>
                      <div>${it[1]}</div>
                    </li>`;
                  })
                  
                  $id("overlay").style.display = "block";
                  $id('dialog').style.display = "block";
            
                  $('.tag-detail .name').innerHTML = `${ele.dataset.tag}`;
                  $('.tag-detail .values').innerHTML = tagInfoHtml.join('');
                });
              }
            
              const tags = initTags(reportData);
              genTags(tags);
              genTopTenChart(tags.topTen);
              initEventListeners(tags);
        </script>
    </body>

</html>